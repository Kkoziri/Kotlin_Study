# 2.1 기본 요소 : 함수와 변수

## 2.1.1 Hello, World!

```kotlin
fun main(args: Array<String>) {
	println("Hello, world!")
}
```

- Hello, world! 예제에서 알 수 있는 코틀린의 특징
    - 함수를 선언할 때 fun 키워드를 사용한다
    - 파라미터 이름 뒤에 그 파라미터의 타입을 쓴다
        - 변수와 함수를 선언할 때도 같은 방식으로 타입을 지정한다
    - 클래스 안에 함수를 넣어야 할 필요 없다. 즉, 함수를 최상위 수준에 정의할 수 있다
    - System.out.println 대신 println이라고 쓴다
    - 세미콜론을 붙이지 않아도 된다

## 2.1.2 함수

**1) 함수 정의**

```kotlin
fun max(a: Int, b: Int): Int {
	return if (a > b) a else b
}

// 간결하게 표현
fun max(a: Int, b: Int) = if (a > b) a else b
```

- **함수 선언은 fun 키워드**로 시작한다
- fun 다음에는 **함수 이름**이 온다
- 함수 이름 뒤에는 괄호 안에 **파라미터 목록**이 온다
- 파라미터 목록 뒤에는 **함수의 반환 타입**이 온다
    - **파라미터 목록과 반환 타입 사이를 콜론(:)으로 구분**한다
- 위 함수는 if식 하나로만 이뤄져 있어 중괄호를 없애고 return을 제거하면서 등호(=)를 식 앞에 붙이면 더 간결하게 함수를 표현할 수 있다

**2) 문(statement)과 식(expression)의 구분**

```kotlin
//statement example
fun checkOdd(num: Int) {
    if(num % 2 == 1) {
        println("$num is odd")
    } else {
        println("$num is even")
    }
}

// expression example
fun add(a: Int, b: Int): Int = a + b
```

- 문(statement) : 자신을 둘러싸고 있는 가장 안쪽 블록의 최상위 요소로 존재하며 **아무런 값을 만들어내지 않고 동작만 함**
- 식(expression) : 일련의 과정을 통해 **값을 만들어 내며** **다른 식의 하위 요소로 계산에 참여**
- 자바에서는 모든 제어 구조가 문(statement)
- **코틀린**에서는 **루프를 제외한 대부분의 제어 구조가 식**(expression) → void처럼 값을 리턴하지 않는 것처럼 보이지만 사실 **Unit을 리턴**하기 때문

**3) 블록이 본문인 함수와 식이 본문인 함수**

- 블록이 본문인 함수 : 본문이 중괄호로 둘러싸인 함수
    - 반드시 반환 타입을 지정하고 return문을 사용해 반환 값을 명시해야 한다
- 식이 본문인 함수 : 등호와 식으로 이뤄진 함수
    - 단순한 산술식이나 함수 호출 식뿐 아니라 if, when, try 등의 더 복잡한 식도 쓰임
    - 반환 타입을 생략할 수 있음
        - 컴파일러가 함수 본문 식을 분석해서 식의 결과 타입을 함수 반환 타입으로 정해줌
        → 컴파일러가 타입을 분석해 프로그래머 대신 프로그램 구성 요소의 타입을 정해주는 기능을 **타입 추론**이라고 부른다

## 2.1.3 변수

**1) 변수 선언**

```kotlin
// 타입 명시
val answer: Int = 42

// 타입 생략
val question = "삶, 우주, 그리고 모든 것에 대한 궁극적인 질문"
val answer = 42

// 초기화 식 사용하지 않는 경우
val answer: Int
answer = 42
```

- 코틀린에서는 **키워드로 변수 선언**을 시작하는 대신 변수 이름 뒤에 **타입을 명시하거나 생략하게 허용**한다
    - 타입을 생략하는 경우 **컴파일러가 초기화 식을 분석해 초기화 식의 타입을 변수 타입으로 지정**한다
    - 단, 초기화 식을 사용하지 않고 변수를 선언하려면 변수 타입을 반드시 명시해야 한다

**2) 변경 가능한 변수와 변경 불가능한 변수**

- 기본적으로는 모든 변수를 **val 키워드를 사용해 불변 변수**로 선언하고, 나중에 꼭 필요할 때에만 var로 변경하자 → 함수형 프로그래밍의 장점을 가져가기 위해
- **var (변경 가능한 변수)**
    - 변수를 뜻하는 variable에서 따옴
    - 자바의 일반 변수에 해당한다
    - **변경 가능한 참조**이다
    - 값을 변경할 수는 있지만 변수의 타입은 고정돼 바뀌지 않는다
        
        ```kotlin
        var answer = 42
        answer = "no answer" // "Error: type mismatch" 컴파일 오류 발생
        ```
        
- **val (변경 불가능한 변수)**
    - 값을 뜻하는 value에서 따옴
    - 자바에서 final 변수에 해당한다
    - **변경 불가능한 참조**로 초기화하고 나면 재대입이 불가능하다
    - 참조 자체는 불변이어도 참조가 가리키는 객체의 내부 값은 변경할 수 있다
        
        ```kotlin
        val languages = arrayListOf("Java")
        languages.add("Kotlin")
        ```
        

## 2.1.4 더 쉽게 문자열 형식 지정 : 문자열 템플릿

```kotlin
val name = "minha"
println("Hello, $name!")
```

- 문자열 템플릿 : **변수를 문자열 안에서 사용**
- 문자열 리터럴의 필요한 곳에 변수를 넣되 변수 앞에 **$를 추가**해야 한다
    - 각종 에러 방지를 위해 ${name}처럼 **중괄호로 변수명을 감싸는 습관**을 들이면 좋다
- $ 문자를 문자열에 넣고 싶으면 println(”\$x”)와 같이 \를 사용해 이스케이프 시켜야 한다

```kotlin
fun main(args: Array<String>) {
	println("Hello, ${if (args.size > 0) args[0] else "someone"}!")
```

- 복잡한 식도 중괄호({})로 둘러싸서 문자열 템플릿 안에 넣을 수 있다